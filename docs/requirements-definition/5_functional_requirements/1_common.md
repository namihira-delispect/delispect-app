# 1.共通機能

## 機能概要
システム全体で共通して使用する機能を定義する。

## 機能要件

### 1.1 認証機能
#### 1.1.1 ログイン機能
- ユーザーIDとパスワードによる認証
- パスワードは12文字以上で、大文字・小文字・数字・記号を組み合わせたものを要求
- 複数回パスワードを間違えた場合のログインロック（5回でロック、24時間後に自動解除）
- パスワードリセット機能（管理者による解除が必要）
- セッション管理
  - 新規ログイン時は既存セッションを無効化
  - セッションIDの定期的な再生成
  - 30分でタイムアウト

#### 1.1.2 ユーザー管理機能
- ユーザー一覧表示
  - ユーザー情報の検索機能
  - ユーザー情報のソート機能
  - ページネーション機能
- ユーザー情報の編集
  - ユーザーID（編集不可）
  - ロール設定
  - 名前
  - メールアドレス
  - パスワード
  - 有効/無効設定

### 1.2 ロール管理
以下の3ロールを定義し、ロールに応じたアクセス制御を行う。

| ロール | 権限範囲 |
|-------|---------|
| 一般ユーザー（看護師・医師） | 患者情報の表示、ケアプランの作成・編集、電子カルテ同期 |
| システム管理者 | マスタデータ管理・基準値設定・監査ログ閲覧等のアプリ設定。患者情報にはアクセス不可 |
| 全権管理者 | すべての操作（ユーザー管理・ロール管理を含む） |

### 1.3 エラーハンドリング
- システムエラー時のエラーメッセージ表示
- ユーザー操作エラー時のガイダンス表示
- エラーログの記録

### 1.4 共通UIコンポーネント
- ヘッダー（ログイン情報、ログアウトボタン）
- ナビゲーションメニュー
- 検索フォーム
- ページネーション
- ソート機能
- フィルター機能

## 制約条件
- OS対応：導入先病院のシステム要件に準拠 
- ブラウザ対応：導入先病院のシステム要件に準拠
- 画面解像度：PC 1920x1080以上推奨、タブレット横向き 1024x768 以上にも対応

## レイアウト

画面左側にメニューを表示し、各画面へ遷移する際の起点とする。  

### メニュー項目  

- 患者入院一覧
- 管理（システム管理者・全権管理者向け）
  - ユーザー管理
  - 薬剤マスタ
  - 基準値マスタ
  - システム設定
  - データマッピング
  - 監査ログ
- 個人設定
  - アカウント情報変更（名前等）
  - パスワード変更
